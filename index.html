<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Pattern Collider</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="An Interactive to Draw Tiling Patterns">
  <meta name="author" content="Aatish Bhatia">


  <link rel="stylesheet" type="text/css" href="normalize.css">
  <link rel="stylesheet" type="text/css" href="style.css">
  <!-- Load in libraries here -->
  <script src="https://unpkg.com/vue"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,600;1,300;1,600&family=Raleway:wght@200;300;400;700&display=swap" rel="stylesheet"> 
</head>

<body>

<div id="root"> <!-- Vue can only access things contained within this div -->

  <header>
    <!-- Tiloscope / Pattern Scope / Pattern Prism / Pattern Collider / Prismatic / Infini-tile / Tilomatic -->
    <h1>Pattern Collider</h1>
    <h3>Create Infinite Tiling Patterns</h3>
  </header>

  <main>

    <div class="half">
      <div>Grid</div>
      <div class="stretch">
        <p5 src="./drawGrid.js"
        :style="{display: canvasDisplaySetting}"
        :data="{
          grid: grid,
          steps: steps,
          multiplier: multiplier,
          intersectionPoints: intersectionPoints,
          showIntersections: showIntersections,
          zoom: zoom,
          selectedLines: selectedLines,
          selectedTiles: selectedTiles,
          display: canvasDisplaySetting,
        }"
        v-on:update:selected-lines="selectedLines = $event"
        v-on:update:resize-completed="canvas1Resized = true"
        ></p5>
      </div>
    </div>

    <div class="half">
      <div>Tiling</div>
      <div class="stretch">
        <p5 src="./drawTiles.js"
        :style="{display: canvasDisplaySetting}"
        :data="{
          tiles: intersectionPoints,
          steps: steps,
          multiplier: multiplier,
          zoom: zoom,
          colorTiles: colorTiles,
          colors: colors,
          selectedLines: selectedLines,
          selectedTiles: selectedTiles,
          display: canvasDisplaySetting,
        }"
        v-on:update:selected-tiles="selectedTiles = $event"
        v-on:update:resize-completed="canvas2Resized = true"
        ></p5>
      </div>
    </div>

  </main>

  <footer>
      
    <div class="menu">
      <button @click="mode = 'settings'">⚙️</button>
      <button @click="mode = 'design'">🖌</button>
      <button @click="mode = 'save'">💾</button>
    </div>

    <div :class="mode == 'settings' ? 'grid' : 'grid hidden'">
      <div>
        <input class="slider" type="range" id="numGrids" v-model.number="numGrids" min="3" max="10" step="1"></input>
        <label for="numGrids">Symmetry:  <span class="dotted">{{ numGrids }}</span></label>       
      </div>
      <div>
        <input class="slider" type="range" id="steps" v-model.number="steps" min="1" max="15" step="2"></input>
        <label for="steps">Size</label>        
      </div>
      <div>
        <input class="slider" type="range" id="zoom" v-model.number="zoom" min="0.5" max="2" step="0.01"></input>
        <label for="sum">Zoom</label>        
      </div>
      <div>
        <input class="slider" type="range" id="sum" v-model.number="sum" min="0" max="1" step="0.01"></input>
        <label for="sum">Sum:  <span class="dotted">{{ sum }}</span></label>        
      </div>
      <div>
        <input class="slider" type="range" id="offset" v-model.number="offset" min="0" max="1" step="0.01"></input>
        <label for="offset">Offset:  <span class="dotted">{{ offset }}</span></label>        
      </div>
    </div>

    <div :class="mode == 'design' ? 'grid' : 'grid hidden'">
      <div>
        <div>
          <label for="showIntersections">Intersections</label>
          <input type="checkbox" id="showIntersections" v-model="showIntersections" class="checkbox">
        </div>
      </div>
      <div>
        <div>
          <label for="colorTiles">Color Tiles</label>
          <input type="checkbox" id="colorTiles" v-model="colorTiles" class="checkbox">
        </div>
      </div>
      <div>
        <button @click="randomizeColors">Random Colors</button>
      </div>
      <div v-if="selectedTiles.length > 0 || selectedLines.length > 0">
        <button @click="clearSelection">Deselect All</button>
      </div>
    </div>

    <div :class="mode == 'save' ? 'grid' : 'grid hidden'">
    </div>
  </footer>


</div>

<script src="vue-definitions.js"></script>

</body>
</html>